{"ast":null,"code":"var _jsxFileName = \"/Users/bryanalvarez/Documents/Desarrollo React JS/ReactJS-2019-1/koioc_project/src/components/Category/ProductsList/Product/Product.js\";\nimport React from 'react';\nimport classes from './Product.css';\nimport { Modal, Button } from 'react-bootstrap';\nimport Services from './Services/Services.js';\nimport { Link } from 'react-router-dom';\n\nclass Product extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClose = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.handleShow = () => {\n      this.setState({\n        show: true\n      });\n    };\n\n    this.paintChecked = index => {\n      for (var i = 0; i < this.state.selectedEmployees.length; i++) {\n        if (this.state.selectedEmployees[i].categoryID === this.props.idCategory) {\n          if (this.state.selectedEmployees[i].productIndex === this.props.index) {\n            if (this.state.selectedEmployees[i].serviceID === index) {\n              return true;\n            }\n          }\n        }\n      }\n\n      return false;\n    };\n\n    this.isChecked = index => {\n      var count = 0;\n\n      for (var i = 0; i < this.state.selectedEmployees.length; i++) {\n        if (this.state.selectedEmployees[i].serviceID !== index) {\n          count++;\n        } else {\n          if (this.state.selectedEmployees[i].productIndex !== this.props.index) {\n            count++;\n          } else {\n            if (this.state.selectedEmployees[i].categoryID !== this.props.idCategory) {\n              count++;\n            }\n          }\n        }\n      }\n\n      console.log(this.state.selectedEmployees.length + \"  \" + count);\n\n      if (count === this.state.selectedEmployees.length) {\n        var s = {\n          categoryID: this.props.idCategory,\n          productIndex: this.props.index,\n          serviceID: index\n        };\n        const help = this.state.selectedEmployees.concat(s);\n        this.setState({\n          selectedEmployees: help\n        });\n      }\n\n      if (count !== this.state.selectedEmployees.length) {\n        var help = this.state.selectedEmployees.filter(n => n.categoryID !== this.props.idCategory || n.categoryID === this.props.idCategory && (n.serviceID !== index || n.productIndex !== this.props.index));\n        this.setState({\n          selectedEmployees: help\n        });\n      }\n    };\n\n    this.updateCar = () => {\n      var help = this.props.logged;\n      help.employees = this.state.selectedEmployees;\n      this.props.updateCar(help);\n    };\n\n    this.state = {\n      show: false,\n      selectedEmployees: this.props.logged.employees\n    };\n  }\n\n  render() {\n    return React.createElement(\"li\", {\n      className: classes.product,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      onClick: this.handleShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.props.product.image,\n      alt: \"category-pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, this.props.product.tittle)), React.createElement(Modal, {\n      size: \"lg\",\n      show: this.state.show,\n      onHide: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      className: \"modal_tittle tittle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, this.props.product.tittle)), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: classes.modal_details,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.props.product.image,\n      alt: \"product\".concat(this.props.product.tittle),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }), this.props.product.employees.map((service, index) => React.createElement(Services, {\n      key: index,\n      index: index,\n      service: service,\n      paint: this.paintChecked,\n      selected: this.isChecked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    })))), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(Button, {\n      title: \"Close the modal\",\n      variant: \"danger\",\n      onClick: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, \"Close\"), React.createElement(Link, {\n      to: \"/shoppingCart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(Button, {\n      title: \"Order a service\",\n      variant: \"primary\",\n      onClick: this.updateCar(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"Order Service\")))));\n  }\n\n}\n\nexport default Product;","map":{"version":3,"sources":["/Users/bryanalvarez/Documents/Desarrollo React JS/ReactJS-2019-1/koioc_project/src/components/Category/ProductsList/Product/Product.js"],"names":["React","classes","Modal","Button","Services","Link","Product","Component","constructor","props","handleClose","setState","show","handleShow","paintChecked","index","i","state","selectedEmployees","length","categoryID","idCategory","productIndex","serviceID","isChecked","count","console","log","s","help","concat","filter","n","updateCar","logged","employees","render","product","image","tittle","modal_details","map","service"],"mappings":"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","sourcesContent":["import React from 'react';\nimport classes from './Product.css';\nimport { Modal, Button } from 'react-bootstrap';\nimport Services from './Services/Services.js';\nimport {Link} from 'react-router-dom';\n\nclass Product extends React.Component{\n\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: false,\n            selectedEmployees: this.props.logged.employees\n        };           \n    }\n    \n    render(){\n        return(\n        <li className={classes.product} >\n            <div onClick={this.handleShow}>\n                <img src={this.props.product.image} alt=\"category-pic\"></img>\n                <p>{this.props.product.tittle}</p>\n            </div>\n            <Modal size=\"lg\" show={this.state.show} onHide={this.handleClose}>\n                <Modal.Header closeButton>\n                <Modal.Title className=\"modal_tittle tittle\" >{this.props.product.tittle}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <section className={classes.modal_details}>\n                        <img src={this.props.product.image} alt={`product${this.props.product.tittle}`}></img>\n                        {this.props.product.employees.map((service,index) => <Services key={index} index={index} service={service} paint={this.paintChecked} selected={this.isChecked}/> )}\n                    </section>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button title=\"Close the modal\" variant=\"danger\" onClick={this.handleClose}>\n                        Close\n                    </Button>\n                    <Link to = \"/shoppingCart\">\n                        <Button title=\"Order a service\" variant=\"primary\" onClick={this.updateCar()}>\n                            Order Service\n                        </Button>\n                    </Link>\n                </Modal.Footer>\n            </Modal>\n        </li>\n        )\n    }\n\n    handleClose = () =>{\n        this.setState({ show: false });\n    }\n\n    handleShow = () => {\n        this.setState({ show: true });\n    }\n\n    paintChecked = (index) => {\n        for(var i=0;i<this.state.selectedEmployees.length; i++){\n            if(this.state.selectedEmployees[i].categoryID===this.props.idCategory){\n                if(this.state.selectedEmployees[i].productIndex===this.props.index){\n                    if(this.state.selectedEmployees[i].serviceID===index){\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n\n    isChecked = (index) => {\n        var count=0;\n        for(var i=0;i<this.state.selectedEmployees.length; i++){\n            if(this.state.selectedEmployees[i].serviceID!==index){\n                count++;\n            }\n            else{\n                if(this.state.selectedEmployees[i].productIndex!==this.props.index){\n                    count++;\n                }\n                else{\n                    if(this.state.selectedEmployees[i].categoryID!==this.props.idCategory){\n                        count++;\n                    }\n                }\n            }\n        }\n        console.log(this.state.selectedEmployees.length+\"  \"+count);\n        \n        if(count===this.state.selectedEmployees.length){\n            var s = {\n                categoryID : this.props.idCategory,\n                productIndex : this.props.index,\n                serviceID : index\n            };\n            const help = this.state.selectedEmployees.concat(s)\n            this.setState({ selectedEmployees: help });\n        }\n        if(count!==this.state.selectedEmployees.length){\n            var help = this.state.selectedEmployees.filter(n =>  (n.categoryID !== this.props.idCategory)||((n.categoryID === this.props.idCategory) && (n.serviceID !== index || n.productIndex!==this.props.index)));\n            \n            this.setState({ selectedEmployees: help });\n        }\n    }\n\n    updateCar = () => {\n        var help = this.props.logged;\n        help.employees = this.state.selectedEmployees;\n        this.props.updateCar(help);\n    }\n}\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}